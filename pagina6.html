<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P√°gina 6 ‚Äì Quebra-cabe√ßa</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#0b0016,#2a0050,#001b3a);
  color:white;
  overflow-x:hidden;
}

/* T√≠tulo */
h1{
  text-align:center;
  padding:20px;
  font-size:1.4rem;
}

/* √Årea do quebra-cabe√ßa */
#puzzle-area{
  position:relative;
  width:90vw;
  max-width:420px;
  aspect-ratio:1/1;
  margin:20px auto;
  border:3px dashed rgba(255,255,255,0.4);
}

/* Grade guia */
.slot{
  position:absolute;
  border:1px dashed rgba(255,255,255,0.2);
}

/* Pe√ßas */
.piece{
  position:absolute;
  background-image:url("quebra/cabeca.jpg");
  background-size:100% 100%;
  cursor:grab;
  touch-action:none;
}

/* Texto final */
#final-text{
  max-width:800px;
  margin:60px auto;
  padding:20px;
  font-size:1.3rem;
  line-height:1.9;
  white-space:pre-wrap;
}

/* Bot√£o */
.btn{
  display:none;
  margin:40px auto;
  padding:16px 34px;
  font-size:1.2rem;
  border:none;
  border-radius:30px;
  background:linear-gradient(45deg,#9b4dff,#d08cff);
  color:white;
  cursor:pointer;
  box-shadow:0 0 15px rgba(180,0,255,0.6);
}
</style>
</head>

<body>

<h1>Monte a imagem‚Ä¶ üíú</h1>

<div id="puzzle-area"></div>

<div id="final-text"></div>
<button class="btn" id="nextBtn">Continuar üíú</button>

<script>
const rows = 3;
const cols = 3;
const total = rows * cols;
const puzzle = document.getElementById("puzzle-area");
const placed = new Set();

/* Criar slots guia */
for(let y=0;y<rows;y++){
  for(let x=0;x<cols;x++){
    const s=document.createElement("div");
    s.className="slot";
    s.style.width=100/cols+"%";
    s.style.height=100/rows+"%";
    s.style.left=(x*100/cols)+"%";
    s.style.top=(y*100/rows)+"%";
    puzzle.appendChild(s);
  }
}

/* Criar pe√ßas */
for(let i=0;i<total;i++){
  const p=document.createElement("div");
  p.className="piece";
  p.dataset.index=i;

  const x=i%cols;
  const y=Math.floor(i/cols);

  p.style.width=100/cols+"%";
  p.style.height=100/rows+"%";
  p.style.backgroundPosition=`${(x/(cols-1))*100}% ${(y/(rows-1))*100}%`;

  p.style.left=Math.random()*60+"vw";
  p.style.top=(Math.random()*40+40)+"vh";

  puzzle.appendChild(p);
  drag(p,x,y);
}

/* Drag */
function drag(el,x,y){
  let ox,oy;

  el.addEventListener("pointerdown",e=>{
    ox=e.clientX-el.offsetLeft;
    oy=e.clientY-el.offsetTop;
    el.setPointerCapture(e.pointerId);
  });

  el.addEventListener("pointermove",e=>{
    if(!el.hasPointerCapture(e.pointerId))return;
    el.style.left=e.clientX-ox+"px";
    el.style.top=e.clientY-oy+"px";
  });

  el.addEventListener("pointerup",()=>{
    const targetX = puzzle.offsetLeft + puzzle.clientWidth*(x/cols);
    const targetY = puzzle.offsetTop + puzzle.clientHeight*(y/rows);

    const dx = Math.abs(el.getBoundingClientRect().left - targetX);
    const dy = Math.abs(el.getBoundingClientRect().top - targetY);

    if(dx<30 && dy<30){
      el.style.left=(x*100/cols)+"%";
      el.style.top=(y*100/rows)+"%";
      el.style.pointerEvents="none";
      placed.add(el.dataset.index);

      if(placed.size===total){
        startText();
      }
    }
  });
}

/* Texto letra por letra */
const text = `Montar essa imagem foi s√≥ um detalhe‚Ä¶
porque a verdade √© que n√≥s dois j√° nos encaixamos muito antes disso.

Cada peda√ßo seu combina com um peda√ßo meu.
O seu corpo entende o meu,
o seu toque conversa com o meu desejo,
e quando voc√™ chega perto, tudo em mim responde.

N√≥s dois juntos n√£o √© s√≥ amor,
√© tens√£o boa,
√© vontade que cresce no sil√™ncio,
√© esse arrepio que nasce quando nossos olhares se encontram
e dizem mais do que qualquer palavra.

Eu amo a forma como voc√™ me provoca sem perceber,
como seu jeito me prende,
como seu corpo me chama
e sua presen√ßa me domina com do√ßura.

Voc√™ √© conforto e tenta√ß√£o ao mesmo tempo.
√â abra√ßo que acalma
e desejo que aperta.

E quando eu olho pra n√≥s dois assim, completos,
eu s√≥ tenho uma certeza:
eu quero voc√™ inteira, perto,
do meu jeito‚Ä¶
e pra sempre.`;

function startText(){
  const box=document.getElementById("final-text");
  let i=0;

  const int=setInterval(()=>{
    box.textContent+=text[i];
    window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});
    i++;
    if(i>=text.length){
      clearInterval(int);
      document.getElementById("nextBtn").style.display="block";
    }
  },40);
}

document.getElementById("nextBtn").onclick=()=>{
  window.location.href="pagina7.html";
};
</script>

</body>
  </html>
